{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/i5-10400f/Desktop/react-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/i5-10400f/Desktop/react-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/i5-10400f/Desktop/react-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState,useEffect}from'react';import{UserContext}from'../Context/userContext';import verified from'../images/verified.png';import{query,getDocs,collection}from\"firebase/firestore\";import{db}from'../firebase/firebase';import'./UserDetails.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var UserDetails=function UserDetails(){var _useContext$user=_slicedToArray(useContext(UserContext).user,2),user=_useContext$user[0],setUser=_useContext$user[1];var _useState=useState([]),_useState2=_slicedToArray(_useState,2),docs=_useState2[0],setDocs=_useState2[1];var q=query(collection(db,\"posts\"));var postCounter=0;useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var querySnapshot;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getDocs(q);case 2:querySnapshot=_context.sent;setDocs(querySnapshot.docs.map(function(doc){return{id:doc.id,post:doc.data()};}));case 4:case\"end\":return _context.stop();}}},_callee);})),[q]);user&&docs&&docs.filter(function(_ref2){var id=_ref2.id,post=_ref2.post;if(post.username===user.displayName){return postCounter+=1;}});return/*#__PURE__*/_jsx(\"div\",{className:\"profile\",children:user&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"img\",{className:\"profile-img\",src:user.photoURL,alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"name\",children:[/*#__PURE__*/_jsx(\"h1\",{children:user.displayName}),/*#__PURE__*/_jsx(\"img\",{className:\"verification\",src:verified,alt:\"\"})]}),/*#__PURE__*/_jsx(\"p\",{children:user.email}),/*#__PURE__*/_jsxs(\"div\",{className:\"num-of-posts\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Number of Posts\"}),\" \",/*#__PURE__*/_jsx(\"p\",{className:\"counter\",children:postCounter})]})]})});};export default UserDetails;","map":{"version":3,"sources":["C:/Users/i5-10400f/Desktop/react-test/src/components/UserDetails/UserDetails.js"],"names":["React","useContext","useState","useEffect","UserContext","verified","query","getDocs","collection","db","UserDetails","user","setUser","docs","setDocs","q","postCounter","querySnapshot","map","doc","id","post","data","filter","username","displayName","photoURL","email"],"mappings":"idAAA,MAAOA,CAAAA,KAAP,EAAeC,UAAf,CAA2BC,QAA3B,CAAqCC,SAArC,KAAqD,OAArD,CACA,OAAQC,WAAR,KAA0B,wBAA1B,CACA,MAAOC,CAAAA,QAAP,KAAqB,wBAArB,CACA,OAASC,KAAT,CAAgBC,OAAhB,CAAyBC,UAAzB,KAA0C,oBAA1C,CACA,OAAQC,EAAR,KAAiB,sBAAjB,CACA,MAAO,mBAAP,C,6IAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACtB,oCAAuBT,UAAU,CAACG,WAAD,CAAV,CAAwBO,IAA/C,IAAMA,IAAN,qBAAYC,OAAZ,qBACA,cAAwBV,QAAQ,CAAC,EAAD,CAAhC,wCAAOW,IAAP,eAAaC,OAAb,eACA,GAAMC,CAAAA,CAAC,CAAGT,KAAK,CAACE,UAAU,CAACC,EAAD,CAAK,OAAL,CAAX,CAAf,CACA,GAAIO,CAAAA,WAAW,CAAG,CAAlB,CACAb,SAAS,sEAAC,2KACsBI,CAAAA,OAAO,CAACQ,CAAD,CAD7B,QACAE,aADA,eAENH,OAAO,CAACG,aAAa,CAACJ,IAAd,CAAmBK,GAAnB,CAAuB,SAAAC,GAAG,QAAM,CAACC,EAAE,CAAED,GAAG,CAACC,EAAT,CAAaC,IAAI,CAAEF,GAAG,CAACG,IAAJ,EAAnB,CAAN,EAA1B,CAAD,CAAP,CAFM,sDAAD,GAGJ,CAACP,CAAD,CAHI,CAAT,CAKEJ,IAAI,EAAIE,IAAR,EAAgBA,IAAI,CAACU,MAAL,CAAY,eAAe,IAAbH,CAAAA,EAAa,OAAbA,EAAa,CAAVC,IAAU,OAAVA,IAAU,CACzC,GAAGA,IAAI,CAACG,QAAL,GAAkBb,IAAI,CAACc,WAA1B,CAAuC,CACnC,MAAOT,CAAAA,WAAW,EAAI,CAAtB,CACH,CACJ,CAJiB,CAAhB,CAMF,mBACI,YAAK,SAAS,CAAC,SAAf,UACKL,IAAI,eACD,wCACA,YAAK,SAAS,CAAC,aAAf,CAA6B,GAAG,CAAEA,IAAI,CAACe,QAAvC,CAAiD,GAAG,CAAC,EAArD,EADA,cAEA,aAAK,SAAS,CAAC,MAAf,wBACA,oBAAKf,IAAI,CAACc,WAAV,EADA,cAEA,YAAK,SAAS,CAAC,cAAf,CAA8B,GAAG,CAAEpB,QAAnC,CAA6C,GAAG,CAAC,EAAjD,EAFA,GAFA,cAMA,mBAAIM,IAAI,CAACgB,KAAT,EANA,cAOA,aAAK,SAAS,CAAC,cAAf,wBACO,yCADP,kBACoC,UAAG,SAAS,CAAC,SAAb,UAAwBX,WAAxB,EADpC,GAPA,GAFR,EADJ,CAiBH,CAjCD,CAmCA,cAAeN,CAAAA,WAAf","sourcesContent":["import React, {useContext, useState, useEffect} from 'react'\r\nimport {UserContext} from '../Context/userContext'\r\nimport verified from '../images/verified.png'\r\nimport { query, getDocs, collection} from \"firebase/firestore\";\r\nimport {db} from '../firebase/firebase'\r\nimport './UserDetails.css'\r\n\r\nconst UserDetails = () => {\r\n    const[user, setUser] = useContext(UserContext).user;\r\n    const [docs, setDocs] = useState([]);\r\n    const q = query(collection(db, \"posts\"));\r\n    let postCounter = 0;\r\n    useEffect(async () => {\r\n        const querySnapshot = await getDocs(q);\r\n        setDocs(querySnapshot.docs.map(doc => ( {id: doc.id, post: doc.data() } )));\r\n      }, [q])\r\n\r\n      user && docs && docs.filter(({id,post}) => {\r\n        if(post.username === user.displayName) {\r\n            return postCounter += 1\r\n        }\r\n    }\r\n    )\r\n    return (\r\n        <div className=\"profile\">\r\n            {user && (\r\n                <>\r\n                <img className='profile-img' src={user.photoURL} alt=\"\" />\r\n                <div className=\"name\">\r\n                <h1>{user.displayName}</h1>\r\n                <img className='verification' src={verified} alt=\"\" />\r\n                </div>\r\n                <p>{user.email}</p>\r\n                <div className='num-of-posts'>\r\n                       <span>Number of Posts</span> <p className='counter'>{postCounter}</p>\r\n                </div>\r\n                </>\r\n                )}\r\n                </div>\r\n    )\r\n}\r\n\r\nexport default UserDetails\r\n"]},"metadata":{},"sourceType":"module"}