{"version":3,"sources":["components/firebase/firebase.js","components/auth/auth.js","components/Context/userContext.js","components/SignIn-Btn/Signinbtn.js","components/Navbar/Navbar.js","components/Skeleton/Skeleton.js","components/Skeleton/SkeletonWrapper.js","components/AddComment/Comment.js","components/Post/Post.js","components/AllPosts/AllPosts.js","components/CreatePost/CreatePost.js","components/Page/Page.js","components/images/verified.png","components/UserDetails/UserDetails.js","components/container/Container.js","App.js","index.js"],"names":["app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","databaseURL","provider","GoogleAuthProvider","auth","getAuth","storage","getStorage","db","getFirestore","SignInWithGoogle","a","signInWithPopup","then","result","user","catch","error","console","log","UserContext","createContext","UserContextProvider","props","useState","setUser","Provider","value","children","Signinbtn","useContext","handleClick","userBysignIn","id","onClick","Navbar","dropdown","setDropdown","history","useHistory","to","className","src","photoURL","alt","displayName","push","window","location","reload","Skeleton","type","classes","SkeletonWrapper","Comment","comment","setComment","handleAddComment","rows","placeholder","onChange","e","target","Post","docs","setDocs","commentsArray","q","query","collection","handleDeletePost","deleteDoc","doc","username","commentsRef","updateDoc","comments","merge","useEffect","setTimeout","getDocs","querySnapshot","map","post","data","length","profileUrl","photoUrl","AllPosts","CreatePost","setPost","image","setImage","myprogress","setMyprogress","required","htmlFor","style","cursor","accept","display","files","urlObject","URL","createObjectURL","myImageTag","document","getElementById","width","height","padding","imageName","allCarc","myId","i","Math","floor","random","generateId","imagesRef","ref","uploadBytesResumable","contentType","on","snapshot","progress","round","bytesTransferred","totalBytes","getDownloadURL","imageURL","setDoc","color","Page","textAlign","paddingTop","marginLeft","UserDetails","postCounter","filter","verified","email","Container","exact","path","App","ReactDOM","render"],"mappings":"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","file":"static/js/main.e49baf7d.chunk.js","sourcesContent":["import { initializeApp } from \"firebase/app\";\r\nimport { getAuth, GoogleAuthProvider } from \"firebase/auth\";\r\nimport { getFirestore } from 'firebase/firestore'\r\nimport { getStorage } from \"firebase/storage\";\r\n\r\n  const firebaseConfig = {\r\n    apiKey: \"AIzaSyBm6MTkwtz1j_Q7NVmsndfa7tcuHlNasHw\",\r\n    authDomain: \"reactsocial-13339.firebaseapp.com\",\r\n    projectId: \"reactsocial-13339\",\r\n    storageBucket: \"reactsocial-13339.appspot.com\",\r\n    messagingSenderId: \"475551624567\",\r\n    appId: \"1:475551624567:web:c880ee57d12882d5a00572\",\r\n    databaseURL: \"https://databaseName.firebaseio.com\",\r\n    // storageBucket: \"bucket.appspot.com\"\r\n  \r\n  };\r\n\r\nconst app = initializeApp(firebaseConfig);\r\nexport const provider = new GoogleAuthProvider();\r\nexport const auth = getAuth();\r\nexport const storage = getStorage(app);\r\nexport const db = getFirestore(app);\r\n\r\n\r\n// const firebaseConfig = {\r\n//   apiKey: \"AIzaSyCJbNkB6T0KHOBmzgveiAU9wQ_yGjWCFJ0\",\r\n//   authDomain: \"amershboul-93b5c.firebaseapp.com\",\r\n//   projectId: \"amershboul-93b5c\",\r\n//   storageBucket: \"amershboul-93b5c.appspot.com\",\r\n//   messagingSenderId: \"531164554328\",\r\n//   appId: \"1:531164554328:web:d12f10bcf1ee0a2355d62d\",\r\n//     databaseURL: \"https://databaseName.firebaseio.com\",\r\n//     // storageBucket: \"bucket.appspot.com\"\r\n\r\n//   };","import {signInWithPopup, signOut, getAuth  } from \"firebase/auth\";\r\nimport {auth, provider} from '../firebase/firebase'\r\n\r\nexport const SignInWithGoogle = async () => {\r\n    let user;\r\n    await signInWithPopup(auth, provider)\r\n    .then((result) => {\r\n     user = result.user;\r\n    }).catch((error) => {\r\n      console.log(error)\r\n    })\r\n    return user;\r\n}\r\n\r\nexport const Logout =  () => {\r\n  const auth = getAuth();\r\n\r\n signOut(auth).then(() => {\r\n  console.log('done ...')\r\n}).catch((error) => {\r\n  console.log(error)\r\n});\r\n}\r\n","import { createContext, useState } from \"react\";\r\n\r\nexport const UserContext = createContext();\r\n\r\nexport const UserContextProvider = (props) => {\r\n    const [user, setUser] = useState(null);\r\n    return (\r\n        <UserContext.Provider value={{ user: [user, setUser]}}>\r\n            {props.children}\r\n        </UserContext.Provider>\r\n    )\r\n}","import React, {useContext, useState} from 'react'\r\nimport \"./Signinbtn.css\"\r\nimport {SignInWithGoogle} from '../auth/auth'\r\nimport {UserContext} from '../Context/userContext'\r\n\r\nconst Signinbtn = () => {\r\n\r\n    const [user, setUser] = useContext(UserContext).user;\r\n\r\n\r\n    const handleClick = async () => {\r\n        \r\n        let userBysignIn = await SignInWithGoogle();\r\n        if (userBysignIn) setUser(userBysignIn)\r\n        \r\n    }\r\n\r\n    return (\r\n        <div id='btn' onClick={handleClick} >\r\n            Sign in with Google\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Signinbtn\r\n","import React, {useContext, useState} from 'react'\r\nimport Signinbtn from '../SignIn-Btn/Signinbtn'\r\nimport {UserContext} from '../Context/userContext'\r\nimport {Link, useHistory} from 'react-router-dom'\r\n\r\nimport \"./Navbar.css\"\r\nconst Navbar = () => {\r\n\r\n    const [user, setUser] = useContext(UserContext).user;\r\n    const [dropdown, setDropdown] = useState(false)\r\n    let history = useHistory();\r\n\r\n    const handleClick = () => {\r\n        setDropdown(!dropdown)\r\n    }\r\n    const reloadPage = () => {\r\n        history.push(\"/\");\r\n        window.location.reload()\r\n\r\n    }\r\n    return (\r\n       <nav id='navbar'>\r\n           <Link to='/'>\r\n           <h3>React Social <i className=\"fab fa-react\"></i></h3>\r\n           </Link>\r\n           {user ? (\r\n            <div className='nav-user'>\r\n                <img src={user.photoURL} alt=\"\" />\r\n                <div className=\"drop-down\" onClick={handleClick}>\r\n                <i className=\"fas fa-sort-down\"></i>\r\n                <div className={dropdown ? \"drop-down-menu active\" : \"drop-down-menu\"}>\r\n                    <Link to='/profile'>\r\n                    <div className=\"info\">\r\n                    <img src={user.photoURL} alt=\"\" />\r\n                    <p>{user.displayName}</p>\r\n                    </div>\r\n                    </Link>\r\n                    <hr />\r\n                    <p onClick={reloadPage}>Logout</p>\r\n                   \r\n                </div>\r\n                </div>\r\n           </div>\r\n           ) : <Signinbtn/>}\r\n       </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar\r\n","import React from 'react'\r\nimport \"./Skeleton.css\"\r\nconst Skeleton = ({type}) => {\r\n    const classes = `skeleton ${type}`\r\n    return (\r\n       <div className={classes}>\r\n       </div>\r\n    )\r\n}\r\n\r\nexport default Skeleton\r\n","import React from 'react'\r\nimport './SkeletonWrapper.css'\r\nimport Skeleton from './Skeleton'\r\nconst SkeletonWrapper = () => {\r\n    return (\r\n        <div className='skeleton-wrapper'>\r\n            <div className=\"header\">\r\n               <div>\r\n               <Skeleton type='avatar'/>\r\n               </div>\r\n                <div>\r\n                <Skeleton type='title' />\r\n                <Skeleton type='title' />\r\n                </div>\r\n            </div>\r\n            <Skeleton type='image' />\r\n            <Skeleton type='text' />\r\n            <Skeleton type='text' />\r\n            <Skeleton type='text' />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SkeletonWrapper\r\n","import React from 'react'\r\n\r\nconst Comment = ({comment, setComment, handleAddComment, id}) => {\r\n    return (\r\n        <div>\r\n            <div className=\"add-comment\">\r\n              <textarea rows='1' placeholder='Add a comment' value={comment} onChange={e => setComment(e.target.value)}></textarea>\r\n              <button className='add-comment-btn' onClick={() => handleAddComment(id)}>Add</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Comment\r\n","import React,{useState, useEffect, useContext} from 'react'\r\nimport { UserContext } from '../Context/userContext';\r\nimport { doc, query, getDocs, collection, deleteDoc, updateDoc  } from \"firebase/firestore\";\r\nimport SkeletonWrapper from '../Skeleton/SkeletonWrapper'\r\nimport Comment from '../AddComment/Comment'\r\nimport {db} from '../firebase/firebase'\r\n\r\nimport \"./Post.css\"\r\n\r\nconst Post = () => {\r\n    const [user, setUser] = useContext(UserContext).user;\r\n    const [docs, setDocs] = useState([]);\r\n    const [comment, setComment] = useState(null)\r\n    const [commentsArray, setCommentsArray] = useState([]);\r\n    const q = query(collection(db, \"posts\"));\r\n\r\n    const handleDeletePost = async (id) => {\r\n        await deleteDoc(doc(db, \"posts\", id));\r\n      }\r\n      \r\n      const handleAddComment = async (id) => {\r\n        commentsArray.push({\r\n          username: user.displayName,\r\n          comment: comment,\r\n        })\r\n        const commentsRef = doc(db, \"posts\", id);\r\n        await updateDoc(commentsRef, {\r\n          comments: commentsArray\r\n        },{ merge: true });\r\n        setComment('')\r\n  \r\n      }\r\n\r\n    useEffect( () => {\r\n        setTimeout(async () => {\r\n          const querySnapshot = await getDocs(q);\r\n          setDocs(querySnapshot.docs.map(doc => ( {id: doc.id, post: doc.data() } )));\r\n        },2000)\r\n      }, [q])\r\n      \r\n    return (\r\n        <div>\r\n          { docs.length == 0 && <> <SkeletonWrapper /> <SkeletonWrapper /> </>}\r\n            { docs.length > 1 && docs.map( ({id, post}) => (\r\n            <div className=\"post\" key={id}>\r\n            <div className=\"post-header\">\r\n                <img src={post.profileUrl} alt=\"profileUrl\" />\r\n                <h3 className='username'>{post.username}</h3>\r\n                { user && user.displayName === post.username && <button className='delete-post' onClick={() => handleDeletePost(id)}>Delete</button>}\r\n            </div>\r\n            <div className=\"post-image\">\r\n                <img src={post.photoUrl} alt={post.username} />\r\n            </div>\r\n            \r\n            <div className=\"post-caption\">\r\n                <span>{post.username}</span>\r\n                <p>{post.post}</p>\r\n            </div>\r\n            { post.comments && post.comments.map(comment => (\r\n                <div className=\"post-comments\">\r\n                <p className=\"username-comment\">{comment.username}</p>\r\n                <p className=\"comment\">{comment.comment}</p>\r\n                </div>\r\n            ))}\r\n            {user && <Comment comment={comment} setComment={setComment} handleAddComment={handleAddComment} id={id} />}\r\n            </div>\r\n        ) ) }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Post\r\n","import React, {useEffect, useState} from 'react'\r\nimport {db} from '../firebase/firebase'\r\nimport {query, getDocs, collection, deleteDoc, updateDoc  } from \"firebase/firestore\";\r\nimport Post from '../Post/Post';\r\n\r\n\r\n\r\nconst AllPosts = () => {\r\n  const [docs, setDocs] = useState([]);\r\n  const q = query(collection(db, \"posts\"));\r\n  useEffect(async () => {\r\n    const querySnapshot = await getDocs(q);\r\n    setDocs(querySnapshot.docs.map(doc => ( {id: doc.id, post: doc.data() } )));\r\n  }, [q])\r\n\r\n    return (\r\n      <div className=\"posts\">\r\n        {docs.length > 0 ? <Post /> : <div className=\"posts\"> <p>No posts yet , Start adding some 📝 ...</p> </div> }\r\n      </div>\r\n      \r\n    )}\r\n\r\nexport default AllPosts\r\n\r\n\r\n","import React, { useContext, useState } from \"react\";\r\nimport { UserContext } from \"../Context/userContext\";\r\nimport { db, storage } from \"../firebase/firebase\";\r\nimport {ref, uploadBytesResumable, getDownloadURL } from \"firebase/storage\";\r\nimport { doc, setDoc } from \"firebase/firestore\"; \r\n\r\n\r\nimport \"./CreatePost.css\"\r\nconst CreatePost = () => {\r\n\r\n\r\n  const [user, setUser] = useContext(UserContext).user;\r\n  const [post, setPost] = useState(\"\");\r\n  const [image, setImage] = useState(null);\r\n  const [myprogress, setMyprogress] = useState(null);\r\n\r\n\r\n  const generateId = (length) => {\r\n    let allCarc = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890\";\r\n    let myId = '';\r\n    for (var i = 0; i < length ; i++){\r\n        myId += allCarc[Math.floor(Math.random() * allCarc.length)] \r\n    }\r\n    return myId\r\n  }\r\n\r\n\r\n  const handleUpload = () => {\r\n    if(image){\r\n      const imageName = generateId(10);\r\n      const imagesRef = ref(storage, `images/${imageName}.jpg`);\r\n      const metadata = {\r\n        contentType: 'image/jpeg',\r\n      };\r\n      const uploadTask = uploadBytesResumable(imagesRef,image,metadata);\r\n\r\n      \r\n\r\n    uploadTask.on('state_complete',(snapshot) => {\r\n      const progress = Math.round((snapshot.bytesTransferred / snapshot.totalBytes) * 100);\r\n      setMyprogress(progress)\r\n      console.log('Upload is ' + progress + '% done');\r\n      if(progress == 100) {\r\n        setPost(\"\")\r\n        setMyprogress(0)\r\n        var myImageTag = document.getElementById('Image-Preview')\r\n        myImageTag.style.display = 'none'\r\n      }\r\n    },(error) => {\r\n      console.log(error)\r\n    },() => {\r\n      getDownloadURL(imagesRef).then(async imageURL => {\r\n        try {\r\n          await setDoc(doc(db, \"posts\", imageName), {\r\n            post: post,\r\n            profileUrl: user.photoURL,\r\n            username: user.displayName,\r\n            photoUrl: imageURL,\r\n          });\r\n        } catch (e) {\r\n          console.error(\"Error adding document: \", e);\r\n        }\r\n      })\r\n    })\r\n    }\r\n    \r\n  }\r\n\r\n\r\n  const handleImage = (e) => {\r\n    if(e.target.files[0]){\r\n\r\n      setImage(e.target.files[0])\r\n\r\n      var urlObject = URL.createObjectURL(e.target.files[0])\r\n\r\n      var myImageTag = document.getElementById('Image-Preview')\r\n      myImageTag.src = urlObject\r\n      myImageTag.style.display = 'block'\r\n      myImageTag.style.width = '100px'\r\n      myImageTag.style.height = '100px'\r\n      myImageTag.style.padding = '10px'\r\n    }\r\n  }\r\n\r\n\r\n    return (\r\n        <div className=\"create-post\">\r\n          <p><img src={user.photoURL} alt=\"\" className='create-post-user-image' /></p>\r\n            <textarea\r\n            placeholder='Whats On Your Mind?'\r\n            value={post}\r\n            onChange={e => setPost(e.target.value)}>\r\n            </textarea>\r\n            <div className=\"image\">\r\n              <img alt=\"img\" id='Image-Preview' />\r\n            </div>\r\n            <div className=\"actions\">\r\n            <label required htmlFor=\"addImage\" style={{cursor:\"pointer\"}}><i className=\"fas fa-camera\"></i></label>\r\n            <input type=\"file\" id='addImage' accept='image/*' style={{display: \"none\"}} onChange={handleImage}/>\r\n            <button onClick={handleUpload} style={{color: post || image || myprogress > 1  ? 'black' : '#999'}}>{`Post ${ myprogress > 1 ? myprogress + '%' : \"\"}`}</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CreatePost;\r\n","import React, { useContext, useState } from \"react\";\r\nimport Signinbtn from \"../SignIn-Btn/Signinbtn\";\r\nimport AllPosts from '../AllPosts/AllPosts'\r\nimport { UserContext } from \"../Context/userContext\";\r\nimport CreatePost from \"../CreatePost/CreatePost\";\r\nimport \"./Page.css\";\r\nimport Skeleton from \"../Skeleton/Skeleton\";\r\n\r\nconst Page = () => {\r\n  const [user, setUser] = useContext(UserContext).user;\r\n\r\n  return (\r\n    <>\r\n    <div id='override-bootstrap' className=\"page\" style={{ textAlign: \"center\", paddingTop: \"20px\" }}>\r\n      {user ? ( <CreatePost /> ) : (\r\n        <div className=\"sign-in\">\r\n          <Signinbtn />\r\n          <p style={{ marginLeft: \"10px\" }}>To Post & Comment</p>\r\n        </div>\r\n      )}\r\n      <AllPosts />\r\n    </div>\r\n    \r\n    </>\r\n  );\r\n};\r\n\r\nexport default Page;\r\n","export default __webpack_public_path__ + \"static/media/verified.61c767c8.png\";","import React, {useContext, useState, useEffect} from 'react'\r\nimport {UserContext} from '../Context/userContext'\r\nimport verified from '../images/verified.png'\r\nimport { query, getDocs, collection} from \"firebase/firestore\";\r\nimport {db} from '../firebase/firebase'\r\nimport './UserDetails.css'\r\n\r\nconst UserDetails = () => {\r\n    const[user, setUser] = useContext(UserContext).user;\r\n    const [docs, setDocs] = useState([]);\r\n    const q = query(collection(db, \"posts\"));\r\n    let postCounter = 0;\r\n    useEffect(async () => {\r\n        const querySnapshot = await getDocs(q);\r\n        setDocs(querySnapshot.docs.map(doc => ( {id: doc.id, post: doc.data() } )));\r\n      }, [q])\r\n\r\n      user && docs && docs.filter(({id,post}) => {\r\n        if(post.username === user.displayName) {\r\n            return postCounter += 1\r\n        }\r\n    }\r\n    )\r\n    return (\r\n        <div className=\"profile\">\r\n            {user && (\r\n                <>\r\n                <img className='profile-img' src={user.photoURL} alt=\"\" />\r\n                <div className=\"name\">\r\n                <h1>{user.displayName}</h1>\r\n                <img className='verification' src={verified} alt=\"\" />\r\n                </div>\r\n                <p>{user.email}</p>\r\n                <div className='num-of-posts'>\r\n                       <span>Number of Posts</span> <p className='counter'>{postCounter}</p>\r\n                </div>\r\n                </>\r\n                )}\r\n                </div>\r\n    )\r\n}\r\n\r\nexport default UserDetails\r\n","import Navbar from '../Navbar/Navbar'\r\nimport React from 'react'\r\nimport Page from '../Page/Page'\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\r\nimport UserDetails from '../UserDetails/UserDetails'\r\nconst Container = () => {\r\n    return (\r\n        <Router>\r\n            <Navbar />\r\n        <div>\r\n            <Switch>\r\n                <Route exact path='/'>\r\n                <Page />\r\n                </Route>\r\n                <Route path='/profile'>\r\n                    <UserDetails />\r\n                </Route>\r\n            </Switch>\r\n        </div>\r\n        </Router>\r\n    )\r\n}\r\n\r\nexport default Container\r\n","import Container from './components/container/Container'\nimport {UserContextProvider} from './components/Context/userContext'\n\nfunction App() {\n  return (\n    <UserContextProvider>\n    <div className=\"App\">\n      <Container />\n    </div>\n    </UserContextProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}