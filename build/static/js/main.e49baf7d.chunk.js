(this["webpackJsonpreact-test"]=this["webpackJsonpreact-test"]||[]).push([[0],{51:function(e,t,c){},53:function(e,t,c){},56:function(e,t,c){},61:function(e,t,c){},62:function(e,t,c){},63:function(e,t,c){},64:function(e,t,c){},65:function(e,t,c){},66:function(e,t,c){},67:function(e,t,c){"use strict";c.r(t);var n=c(10),s=c(43),a=c.n(s),r=(c(51),c(11)),i=c(0),o=c.n(i),j=c(1),l=(c(53),c(27)),u=c(44),d=c(15),b=c(30),O=Object(u.a)({apiKey:"AIzaSyBm6MTkwtz1j_Q7NVmsndfa7tcuHlNasHw",authDomain:"reactsocial-13339.firebaseapp.com",projectId:"reactsocial-13339",storageBucket:"reactsocial-13339.appspot.com",messagingSenderId:"475551624567",appId:"1:475551624567:web:c880ee57d12882d5a00572",databaseURL:"https://databaseName.firebaseio.com"}),p=new l.a,m=Object(l.b)(),x=Object(b.b)(O),f=Object(d.e)(O),h=function(){var e=Object(j.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.c)(m,p).then((function(e){t=e.user})).catch((function(e){console.log(e)}));case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=c(6),g=Object(n.createContext)(),N=function(e){var t=Object(n.useState)(null),c=Object(r.a)(t,2),s=c[0],a=c[1];return Object(v.jsx)(g.Provider,{value:{user:[s,a]},children:e.children})},y=function(){var e=Object(r.a)(Object(n.useContext)(g).user,2),t=(e[0],e[1]),c=function(){var e=Object(j.a)(o.a.mark((function e(){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:(c=e.sent)&&t(c);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsx)("div",{id:"btn",onClick:c,children:"Sign in with Google"})},w=c(14),k=c(33),C=(c(56),function(){var e=Object(r.a)(Object(n.useContext)(g).user,2),t=e[0],c=(e[1],Object(n.useState)(!1)),s=Object(r.a)(c,2),a=s[0],i=s[1],o=Object(w.f)();return Object(v.jsxs)("nav",{id:"navbar",children:[Object(v.jsx)(k.b,{to:"/",children:Object(v.jsxs)("h3",{children:["React Social ",Object(v.jsx)("i",{className:"fab fa-react"})]})}),t?Object(v.jsxs)("div",{className:"nav-user",children:[Object(v.jsx)("img",{src:t.photoURL,alt:""}),Object(v.jsxs)("div",{className:"drop-down",onClick:function(){i(!a)},children:[Object(v.jsx)("i",{className:"fas fa-sort-down"}),Object(v.jsxs)("div",{className:a?"drop-down-menu active":"drop-down-menu",children:[Object(v.jsx)(k.b,{to:"/profile",children:Object(v.jsxs)("div",{className:"info",children:[Object(v.jsx)("img",{src:t.photoURL,alt:""}),Object(v.jsx)("p",{children:t.displayName})]})}),Object(v.jsx)("hr",{}),Object(v.jsx)("p",{onClick:function(){o.push("/"),window.location.reload()},children:"Logout"})]})]})]}):Object(v.jsx)(y,{})]})}),S=(c(61),c(62),function(e){var t=e.type,c="skeleton ".concat(t);return Object(v.jsx)("div",{className:c})}),U=function(){return Object(v.jsxs)("div",{className:"skeleton-wrapper",children:[Object(v.jsxs)("div",{className:"header",children:[Object(v.jsx)("div",{children:Object(v.jsx)(S,{type:"avatar"})}),Object(v.jsxs)("div",{children:[Object(v.jsx)(S,{type:"title"}),Object(v.jsx)(S,{type:"title"})]})]}),Object(v.jsx)(S,{type:"image"}),Object(v.jsx)(S,{type:"text"}),Object(v.jsx)(S,{type:"text"}),Object(v.jsx)(S,{type:"text"})]})},I=function(e){var t=e.comment,c=e.setComment,n=e.handleAddComment,s=e.id;return Object(v.jsx)("div",{children:Object(v.jsxs)("div",{className:"add-comment",children:[Object(v.jsx)("textarea",{rows:"1",placeholder:"Add a comment",value:t,onChange:function(e){return c(e.target.value)}}),Object(v.jsx)("button",{className:"add-comment-btn",onClick:function(){return n(s)},children:"Add"})]})})},L=(c(63),function(){var e=Object(r.a)(Object(n.useContext)(g).user,2),t=e[0],c=(e[1],Object(n.useState)([])),s=Object(r.a)(c,2),a=s[0],i=s[1],l=Object(n.useState)(null),u=Object(r.a)(l,2),b=u[0],O=u[1],p=Object(n.useState)([]),m=Object(r.a)(p,2),x=m[0],h=(m[1],Object(d.f)(Object(d.a)(f,"posts"))),N=function(){var e=Object(j.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.b)(Object(d.c)(f,"posts",t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(j.a)(o.a.mark((function e(c){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x.push({username:t.displayName,comment:b}),n=Object(d.c)(f,"posts",c),e.next=4,Object(d.h)(n,{comments:x},{merge:!0});case 4:O("");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){setTimeout(Object(j.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.d)(h);case 2:t=e.sent,i(t.docs.map((function(e){return{id:e.id,post:e.data()}})));case 4:case"end":return e.stop()}}),e)}))),2e3)}),[h]),Object(v.jsxs)("div",{children:[0==a.length&&Object(v.jsxs)(v.Fragment,{children:[" ",Object(v.jsx)(U,{})," ",Object(v.jsx)(U,{})," "]}),a.length>1&&a.map((function(e){var c=e.id,n=e.post;return Object(v.jsxs)("div",{className:"post",children:[Object(v.jsxs)("div",{className:"post-header",children:[Object(v.jsx)("img",{src:n.profileUrl,alt:"profileUrl"}),Object(v.jsx)("h3",{className:"username",children:n.username}),t&&t.displayName===n.username&&Object(v.jsx)("button",{className:"delete-post",onClick:function(){return N(c)},children:"Delete"})]}),Object(v.jsx)("div",{className:"post-image",children:Object(v.jsx)("img",{src:n.photoUrl,alt:n.username})}),Object(v.jsxs)("div",{className:"post-caption",children:[Object(v.jsx)("span",{children:n.username}),Object(v.jsx)("p",{children:n.post})]}),n.comments&&n.comments.map((function(e){return Object(v.jsxs)("div",{className:"post-comments",children:[Object(v.jsx)("p",{className:"username-comment",children:e.username}),Object(v.jsx)("p",{className:"comment",children:e.comment})]})})),t&&Object(v.jsx)(I,{comment:b,setComment:O,handleAddComment:y,id:c})]},c)}))]})}),R=function(){var e=Object(n.useState)([]),t=Object(r.a)(e,2),c=t[0],s=t[1],a=Object(d.f)(Object(d.a)(f,"posts"));return Object(n.useEffect)(Object(j.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.d)(a);case 2:t=e.sent,s(t.docs.map((function(e){return{id:e.id,post:e.data()}})));case 4:case"end":return e.stop()}}),e)}))),[a]),Object(v.jsx)("div",{className:"posts",children:c.length>0?Object(v.jsx)(L,{}):Object(v.jsxs)("div",{className:"posts",children:[" ",Object(v.jsx)("p",{children:"No posts yet , Start adding some \ud83d\udcdd ..."})," "]})})},A=(c(64),function(){var e=Object(r.a)(Object(n.useContext)(g).user,2),t=e[0],c=(e[1],Object(n.useState)("")),s=Object(r.a)(c,2),a=s[0],i=s[1],l=Object(n.useState)(null),u=Object(r.a)(l,2),O=u[0],p=u[1],m=Object(n.useState)(null),h=Object(r.a)(m,2),N=h[0],y=h[1];return Object(v.jsxs)("div",{className:"create-post",children:[Object(v.jsx)("p",{children:Object(v.jsx)("img",{src:t.photoURL,alt:"",className:"create-post-user-image"})}),Object(v.jsx)("textarea",{placeholder:"Whats On Your Mind?",value:a,onChange:function(e){return i(e.target.value)}}),Object(v.jsx)("div",{className:"image",children:Object(v.jsx)("img",{alt:"img",id:"Image-Preview"})}),Object(v.jsxs)("div",{className:"actions",children:[Object(v.jsx)("label",{required:!0,htmlFor:"addImage",style:{cursor:"pointer"},children:Object(v.jsx)("i",{className:"fas fa-camera"})}),Object(v.jsx)("input",{type:"file",id:"addImage",accept:"image/*",style:{display:"none"},onChange:function(e){if(e.target.files[0]){p(e.target.files[0]);var t=URL.createObjectURL(e.target.files[0]),c=document.getElementById("Image-Preview");c.src=t,c.style.display="block",c.style.width="100px",c.style.height="100px",c.style.padding="10px"}}}),Object(v.jsx)("button",{onClick:function(){if(O){var e=function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890",c="",n=0;n<e;n++)c+=t[Math.floor(Math.random()*t.length)];return c}(10),c=Object(b.c)(x,"images/".concat(e,".jpg"));Object(b.d)(c,O,{contentType:"image/jpeg"}).on("state_complete",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);(y(t),console.log("Upload is "+t+"% done"),100==t)&&(i(""),y(0),document.getElementById("Image-Preview").style.display="none")}),(function(e){console.log(e)}),(function(){Object(b.a)(c).then(function(){var c=Object(j.a)(o.a.mark((function c(n){return o.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Object(d.g)(Object(d.c)(f,"posts",e),{post:a,profileUrl:t.photoURL,username:t.displayName,photoUrl:n});case 3:c.next=8;break;case 5:c.prev=5,c.t0=c.catch(0),console.error("Error adding document: ",c.t0);case 8:case"end":return c.stop()}}),c,null,[[0,5]])})));return function(e){return c.apply(this,arguments)}}())}))}},style:{color:a||O||N>1?"black":"#999"},children:"Post ".concat(N>1?N+"%":"")})]})]})}),E=(c(65),function(){var e=Object(r.a)(Object(n.useContext)(g).user,2),t=e[0];e[1];return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{id:"override-bootstrap",className:"page",style:{textAlign:"center",paddingTop:"20px"},children:[t?Object(v.jsx)(A,{}):Object(v.jsxs)("div",{className:"sign-in",children:[Object(v.jsx)(y,{}),Object(v.jsx)("p",{style:{marginLeft:"10px"},children:"To Post & Comment"})]}),Object(v.jsx)(R,{})]})})}),P=c.p+"static/media/verified.61c767c8.png",B=(c(66),function(){var e=Object(r.a)(Object(n.useContext)(g).user,2),t=e[0],c=(e[1],Object(n.useState)([])),s=Object(r.a)(c,2),a=s[0],i=s[1],l=Object(d.f)(Object(d.a)(f,"posts")),u=0;return Object(n.useEffect)(Object(j.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.d)(l);case 2:t=e.sent,i(t.docs.map((function(e){return{id:e.id,post:e.data()}})));case 4:case"end":return e.stop()}}),e)}))),[l]),t&&a&&a.filter((function(e){e.id;if(e.post.username===t.displayName)return u+=1})),Object(v.jsx)("div",{className:"profile",children:t&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("img",{className:"profile-img",src:t.photoURL,alt:""}),Object(v.jsxs)("div",{className:"name",children:[Object(v.jsx)("h1",{children:t.displayName}),Object(v.jsx)("img",{className:"verification",src:P,alt:""})]}),Object(v.jsx)("p",{children:t.email}),Object(v.jsxs)("div",{className:"num-of-posts",children:[Object(v.jsx)("span",{children:"Number of Posts"})," ",Object(v.jsx)("p",{className:"counter",children:u})]})]})})}),T=function(){return Object(v.jsxs)(k.a,{children:[Object(v.jsx)(C,{}),Object(v.jsx)("div",{children:Object(v.jsxs)(w.c,{children:[Object(v.jsx)(w.a,{exact:!0,path:"/",children:Object(v.jsx)(E,{})}),Object(v.jsx)(w.a,{path:"/profile",children:Object(v.jsx)(B,{})})]})})]})};var M=function(){return Object(v.jsx)(N,{children:Object(v.jsx)("div",{className:"App",children:Object(v.jsx)(T,{})})})};a.a.render(Object(v.jsx)(M,{}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.e49baf7d.chunk.js.map